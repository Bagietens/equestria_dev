
	shared_focus = {
		id = manifesto_of_materialism
		icon = GFX_goal_socialist_science
		cost = 10
		x = 18
		y = 3
		available = {
			NOT = { has_country_leader = { ruling_only = yes name = "Dark Wing"} }
			hidden_trigger = {
				NOT = {
					has_food_shortages_STG = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = not_has_food_shortages
				NOT = {
					has_food_shortages_STG = yes
				}
			}
			has_government = communism
		}
		
		bypass = {
			OR = {
				has_idea = materialist_manifesto
				has_idea = materialist_manifesto2
			}
		}
		ai_will_do = {
			factor = 4
		}
		prerequisite = {
		}
		completion_reward = {
		
			add_ideas = materialist_manifesto
		}
	}
	shared_focus = {
		id = new_radar_technologies
		icon = GFX_goal_stg_radio
		cost = 10
		prerequisite = {
			focus = manifesto_of_materialism
		}
		x = 1
		y = 1
		relative_position_id = manifesto_of_materialism
		completion_reward = {
		
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 2
				category = electronics
			}
		}
	}
	shared_focus = {
		id = complete_electrification
		icon = GFX_goal_stg_electricity
		cost = 10
		prerequisite = {
			focus = manifesto_of_materialism
		}
		bypass = {
			NOT = { has_idea = incomplete_industrialization }
		}
		relative_position_id = manifesto_of_materialism
		x = -1
		y = 1
		completion_reward = {
		
			remove_ideas = incomplete_industrialization
		}
	}
	shared_focus = {
		id = peterhoof_academy
		icon = GFX_goal_stg_petershoof
		cost = 10
		prerequisite = {
			focus = new_radar_technologies
			focus = complete_electrification
		}
		relative_position_id = manifesto_of_materialism
		x = -1
		y = 2
		bypass = {
			has_idea = materialist_manifesto2
		}
		completion_reward = {
		
			swap_ideas = { remove_idea = materialist_manifesto add_idea = materialist_manifesto2 }
		}
	}
	shared_focus = {
		id = konzan_research_facility
		icon = GFX_goal_stg_konzan_university
		cost = 10
		prerequisite = {
			focus = new_radar_technologies
		}
		relative_position_id = manifesto_of_materialism
		x = 1
		y = 2
		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = unlock_konzan_university_tt
		}
	}
	shared_focus = {
		id = nuclear_research
		icon = GFX_goal_stg_nukes
		cost = 10
		prerequisite = {
			focus = konzan_research_facility
		}
		prerequisite = {
			focus = peterhoof_academy
		}
		relative_position_id = manifesto_of_materialism
		x = -1
		y = 3
		completion_reward = {
		
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 2
				category = nuclear
			}
			custom_effect_tooltip = unlock_petershoof_institute_tt
		}
	}
	shared_focus = {
		id = rocket_technology
		icon = GFX_goal_stg_rocketry
		cost = 10
		prerequisite = {
			focus = konzan_research_facility
		}
		prerequisite = {
			focus = peterhoof_academy
		}
		relative_position_id = manifesto_of_materialism
		x = 1
		y = 3
		completion_reward = {
		
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 1
				category = rocketry
			}
			hidden_effect = {
				country_event = stalliongrad.117
			}
		}
	}
	
	shared_focus = {
		id = STG_ready_to_help_EQS
		icon = GFX_goal_stg_eqs
		cost = 5
		dynamic = yes
		available = {
			is_subject = no
			if = {
				limit = { tag = STG }
				event_target:equestria = {
					exists = yes
					has_capitulated = no
					has_government = democratic
					is_subject = no
					NOT = { has_war_with = ROOT }
				}
			}
			else = {
				has_defensive_war = yes
				NOT = { has_government = fascism }
				STG = {
					exists = yes
					has_capitulated = no
					is_subject = no
					NOT = { has_war_with = ROOT }
					NOT = {
						focus_progress = {
							focus = STG_influence_EQS
							progress > 0
						}
					}
				}
			}
		}
		bypass = {
			if = {
				limit = { tag = STG }
				OR = {
					is_subject_of = event_target:equestria
					event_target:equestria = {
						is_faction_leader = yes
						is_in_faction_with = ROOT
					}
				}
			}
		}
		prerequisite = { 
			focus = STG_detente_with_EQS
			focus = All_ponies_front_f
		}
		ai_will_do = {
			factor = 10
		}
		x = 0
		y = 0
		#EQS: x = 31 y = 3
		offset = {
			trigger = { original_tag = EQS }
			x = 31
			y = 3
		}
		offset = {
			trigger = { original_tag = STG }
			x = 2
			y = 5
		}
		completion_reward = {
			if = {
				limit = { tag = STG }
				if = {
					limit = { event_target:equestria = { has_war = no } }
					unlock_decision_tooltip = STG_help_EQS_in_war
				}
				else = {
					event_target:equestria = {
						country_event = equestria.42
					}
				}
				add_ai_strategy = {
					type = protect
					id = event_target:equestria
					value = 100
				}
				add_ai_strategy = {
					type = support
					id = event_target:equestria
					value = 100
				}
			}
			else = {
				STG = {
					country_event = stalliongrad.1
				}
			}
		}
	}

	shared_focus = {
		id = STG_joint_EQS_research
		icon = GFX_goal_stg_eqs
		cost = 10
		available = {
			is_subject = no
			STG = { has_country_flag = war_help }
			if = {
				limit = { tag = STG }
				event_target:equestria = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					NOT = { has_war_with = ROOT }
				}
			}
			else = {
				NOT = { has_government = fascism }
				STG = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					NOT = { has_war_with = ROOT }
					has_completed_focus = STG_detente_with_EQS
				}
			}
		}
		prerequisite = { focus = STG_ready_to_help_EQS }
		ai_will_do = {
			factor = 10
		}
		relative_position_id = STG_ready_to_help_EQS
		x = 0
		y = 0
		offset = {
			trigger = { original_tag = EQS }
			x = 0
			y = 1
		}
		offset = {
			trigger = { original_tag = STG }
			x = 0
			y = 1
		}
		completion_reward = {
			if = {
				limit = { has_dlc = "Together for Victory" }
				STG = { add_to_tech_sharing_group = equestrian_research }
			}
			else = {
				STG = {
					add_tech_bonus = {
						name = industrial_bonus
						bonus = 0.5
						uses = 1
						category = industry
					}
					add_tech_bonus = {
						name = electronics_bonus
						bonus = 0.5
						uses = 1
						category = electronics
					}
					add_tech_bonus = {
						name = infantry_artillery_bonus
						bonus = 0.5
						uses = 1
						category = infantry_weapons
						category = artillery
					}
				}
				event_target:equestria = {
					add_tech_bonus = {
						name = industrial_bonus
						bonus = 0.5
						uses = 1
						category = industry
					}
					add_tech_bonus = {
						name = electronics_bonus
						bonus = 0.5
						uses = 1
						category = electronics
					}
					add_tech_bonus = {
						name = infantry_artillery_bonus
						bonus = 0.5
						uses = 1
						category = infantry_weapons
						category = artillery
					}
				}
			}
		}
	}

	shared_focus = {
		id = STG_joint_tank_EQS_research
		icon = GFX_goal_stg_eqs
		cost = 10
		available = {
			is_subject = no
			STG = { has_country_flag = war_help }
			if = {
				limit = { tag = STG }
				event_target:equestria = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					NOT = { has_war_with = ROOT }
				}
			}
			else = {
				NOT = { has_government = fascism }
				STG = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					NOT = { has_war_with = ROOT }
					has_completed_focus = STG_detente_with_EQS
				}
			}
		}
		prerequisite = { focus = STG_ready_to_help_EQS }
		ai_will_do = {
			factor = 10
		}
		relative_position_id = STG_ready_to_help_EQS
		x = 0
		y = 0
		offset = {
			trigger = { original_tag = STG }
			x = -1
			y = 2
		}
		offset = {
			trigger = { original_tag = EQS }
			x = 2
			y = 1
		}
		completion_reward = {
			STG = {
				add_tech_bonus = {
					name = armor_bonus
					bonus = 0.5
					uses = 2
					category = armor
				}
			}
			event_target:equestria = {
				add_tech_bonus = {
					name = armor_bonus
					bonus = 0.5
					uses = 2
					category = armor
				}
			}
		}
	}

	shared_focus = {
		id = STG_EQS_military_cooperation
		icon = GFX_goal_stg_eqs
		cost = 10
		available = {
			is_subject = no
			STG = { has_country_flag = war_help }
			if = {
				limit = { tag = STG }
				event_target:equestria = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					NOT = { has_war_with = ROOT }
				}
			}
			else = {
				NOT = { has_government = fascism }
				STG = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					NOT = { has_war_with = ROOT }
					has_completed_focus = STG_detente_with_EQS
				}
			}
		}
		prerequisite = { focus = STG_ready_to_help_EQS }
		ai_will_do = {
			factor = 10
		}
		relative_position_id = STG_ready_to_help_EQS
		x = 0
		y = 0
		offset = {
			trigger = { original_tag = STG }
			x = 1
			y = 2
		}
		offset = {
			trigger = { original_tag = EQS }
			x = 4
			y = 1
		}
		completion_reward = {
			STG = {
				add_tech_bonus = {
					name = land_doc_bonus
					bonus = 0.5
					uses = 1
					category = land_doctrine
				}
				army_experience = 20
				air_experience = 15
				navy_experience = 15
			}
			event_target:equestria = {
				add_tech_bonus = {
					name = land_doc_bonus
					bonus = 0.5
					uses = 1
					category = land_doctrine
				}
				army_experience = 20
				air_experience = 15
				navy_experience = 15
			}
		}
	}

	shared_focus = {
		id = STG_EQS_civic_initative
		icon = GFX_goal_stg_eqs
		cost = 10
		available = {
			is_subject = no
			has_war = no
			if = {
				limit = { tag = STG }
				event_target:equestria = {
					exists = yes
					has_capitulated = no
					NOT = { has_government = fascism }
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					has_war = no
				}
			}
			else = {
				NOT = { has_government = fascism }
				STG = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					has_war = no
				}
			}
		}
		prerequisite = { focus = STG_detente_with_EQS }
		ai_will_do = {
			factor = 10
		}
		x = 0
		y = 0
		offset = {
			trigger = { original_tag = STG }
			x = -1
			y = 5
		}
		offset = {
			trigger = { original_tag = EQS }
			x = 4
			y = 0
		}
		completion_reward = {
			if = {
				limit = { tag = STG }
				event_target:equestria = { country_event = stalliongrad_eqs_cw.12 }
			}
			else = {
				STG = { country_event = stalliongrad_eqs_cw.12 }
			}
		}
	}

	shared_focus = {
		id = STG_EQS_open_up_trade
		icon = GFX_goal_stg_eqs
		cost = 10
		available = {
			has_global_flag = STG_EQS_cooperation_flag
			is_subject = no
			has_war = no
			if = {
				limit = { tag = STG }
				event_target:equestria = {
					exists = yes
					has_capitulated = no
					NOT = { has_government = fascism }
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					has_war = no
				}
			}
			else = {
				NOT = { has_government = fascism }
				STG = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					has_war = no
				}
			}
		}
		prerequisite = { focus = STG_EQS_civic_initative }
		relative_position_id = STG_EQS_civic_initative
		ai_will_do = {
			factor = 10
		}
		x = -1
		y = 1
		completion_reward = {
			event_target:equestria = {
				add_opinion_modifier = {
					target = STG
					modifier = trading
				}
			}
			STG = {
				add_opinion_modifier = {
					target = event_target:equestria
					modifier = trading
				}
			}
			if = {
				limit = { has_dlc = "Together for Victory" }
				STG = { add_to_tech_sharing_group = STG_EQS_industry_research }
				event_target:equestria = { add_to_tech_sharing_group = STG_EQS_industry_research }
			}
			else = {
				STG = {
					add_tech_bonus = {
						name = industrial_bonus
						bonus = 0.5
						uses = 1
						category = industry
					}
				}
				event_target:equestria = {
					add_tech_bonus = {
						name = industrial_bonus
						bonus = 0.5
						uses = 1
						category = industry
					}
				}
			}
		}
	}

	shared_focus = {
		id = STG_EQS_stalliongrad_to_manehattan
		icon = GFX_goal_stg_eqs
		cost = 10
		available = {
			has_global_flag = STG_EQS_cooperation_flag
			is_subject = no
			has_war = no
			if = {
				limit = { tag = STG }
				event_target:equestria = {
					exists = yes
					has_capitulated = no
					NOT = { has_government = fascism }
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					has_war = no
				}
			}
			else = {
				NOT = { has_government = fascism }
				STG = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					has_war = no
				}
			}
			NOT = { AND = {
				any_state = {
					OR = {
						state = 153
						state = 235
						state = 161
						state = 168
						state = 166
						state = 653
						state = 662
						state = 525
						state = 231
						state = 184
						state = 75
					}
					controller = {
						NOT = {
							OR = {
								tag = STG
								tag = event_target:equestria
								is_subject_of = STG
								is_subject_of = event_target:equestria
								is_in_faction_with = STG
								is_in_faction_with = event_target:equestria
							}
						}
					}
				}
			} }
		}
		prerequisite = { focus = STG_EQS_civic_initative }
		relative_position_id = STG_EQS_civic_initative
		ai_will_do = {
			factor = 10
		}
		x = 1
		y = 1
		completion_reward = {
			153 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			235 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			161 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			168 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			166 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			653 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			662 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			525 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			231 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			184 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			75 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = STG_EQS_state_visit
		icon = GFX_goal_stg_eqs
		cost = 10
		available = {
			has_global_flag = STG_EQS_cooperation_flag
			is_subject = no
			has_war = no
			if = {
				limit = { tag = STG }
				event_target:equestria = {
					exists = yes
					has_capitulated = no
					NOT = { has_government = fascism }
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					has_war = no
				}
			}
			else = {
				NOT = { has_government = fascism }
				STG = {
					exists = yes
					has_capitulated = no
					OR = {
						is_subject = no
						is_subject_of = ROOT
					}
					has_war = no
				}
			}
		}
		prerequisite = { 
			focus = STG_EQS_stalliongrad_to_manehattan
		}
		prerequisite = {
			focus = STG_EQS_open_up_trade
		}
		relative_position_id = STG_EQS_civic_initative
		ai_will_do = {
			factor = 10
		}
		x = 0
		y = 2
		completion_reward = {
			add_political_power = 150
			add_named_threat = { 
				threat = -5 
				name = STG_EQS_state_visit
			}
			if = {
				limit = { tag = STG }
				event_target:equestria = { 
					effect_tooltip = { add_political_power = 100 }
					country_event = stalliongrad_eqs_cw.15 
				}
				if = {
					limit = {
						event_target:equestria = { 
							exists = yes
						}
						any_state = {
							is_core_of = ROOT
							owner = {
								OR = {
									tag = event_target:equestria
									is_subject_of = event_target:equestria
								}
							}
						}
						OR = {
							AND = {
								has_country_flag = war_help
								NOT = {
									has_war_with = CHN
								}
								OR = {
									NOT = { country_exists = CHN }
									CHN = { is_subject = yes }
									CHN = { has_government = democratic }
									CHN = { has_government = communism }
								}
							}
						}
						NOT = {
							has_country_flag = claimed_EQS_territory_already
						}
					}
					unlock_decision_tooltip = STG_claim_EQS_cores
				}
			}
			else = {
				STG = {
					effect_tooltip = { add_political_power = 100 }
					country_event = stalliongrad_eqs_cw.15
				}
			}
			news_event = { id = stalliongrad_eqs_cw_news.5 days = 2 }
			hidden_effect = {
				STG = {
					add_ai_strategy = {
						id = event_target:equestria
						type = alliance
						value = 50
					}
					add_ai_strategy = {
						id = event_target:equestria
						type = befriend
						value = 50
					}
					add_ai_strategy = {
						id = event_target:equestria
						type = support
						value = 50
					}
				}
				event_target:equestria = {
					add_ai_strategy = {
						id = STG
						type = alliance
						value = 50
					}
					add_ai_strategy = {
						id = STG
						type = befriend
						value = 50
					}
					add_ai_strategy = {
						id = STG
						type = support
						value = 50
					}
				}
			}
		}
	}