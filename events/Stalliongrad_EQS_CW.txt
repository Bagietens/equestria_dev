add_namespace = stalliongrad_eqs_cw
add_namespace = stalliongrad_eqs_cw_news
#test event
country_event = {
	id = stalliongrad_eqs_cw.0
	is_triggered_only = yes
	option = {
		STG_resolve_EQS_CW_effects = yes
	}
}
#EVENTS THAT FIRE AFTER STG DECLARES
#Border propaganda
country_event = {
	id = stalliongrad_eqs_cw.1
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.1"}#Auto-logging
	title = stalliongrad_eqs_cw.1.t
	desc = stalliongrad_eqs_cw.1.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.1.a
		STG_border_propaganda_effect = yes
	}
}
#Sabotage
country_event = {
	id = stalliongrad_eqs_cw.2
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.2"}#Auto-logging
	title = stalliongrad_eqs_cw.2.t
	desc = stalliongrad_eqs_cw.2.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.2.a
		add_timed_idea = {
			idea = STG_sabotage_idea
			days = 360
		}
	}
}
#Sabotage
country_event = {
	id = stalliongrad_eqs_cw.3
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.3"}#Auto-logging
	title = stalliongrad_eqs_cw.3.t
	desc = stalliongrad_eqs_cw.3.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.3.a
		STG_infiltrate_army_effect = yes
	}
}
#BAL rises up
country_event = {
	id = stalliongrad_eqs_cw.4
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.4"}#Auto-logging
	title = stalliongrad_eqs_cw.4.t
	desc = stalliongrad_eqs_cw.4.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.4.a
		BAL = {
			transfer_state = 13
			transfer_state = 28
			transfer_state = 27
			transfer_state = 82
			transfer_state = 90
			hidden_effect = {
				remove_ideas = disrupted_communications
				country_event = civwar.110
				country_event = { id = civwar.7 hours = 1 }
				CHN = {
					if = {
						limit = { has_completed_focus = demand_equestria }
						country_event = { id = changelings.12 days = 1 }
					}
				}
			}
			activate_targeted_decision = { target = ROOT decision = BAL_VAN_declare_on_EQS }
			add_ai_strategy = {
				type = antagonize
				id = ROOT
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = ROOT
				value = 200
			}
			add_ai_strategy = {
				type = alliance
				id = STG
				value = 999
			}
			add_ai_strategy = {
				type = support
				id = STG
				value = 100
			}
		}
		STG = {
			add_ai_strategy = {
				type = alliance
				id = BAL
				value = 999
			}
			add_ai_strategy = {
				type = support
				id = BAL
				value = 100
			}
		}
		add_ai_strategy = {
			type = antagonize
			id = BAL
			value = 200
		}
		add_ai_strategy = {
			type = conquer
			id = BAL
			value = 200
		}
	}
	option = {
		name = stalliongrad_eqs_cw.4.b
		trigger = { is_ai = no }
		BAL = {
			transfer_state = 13
			transfer_state = 28
			transfer_state = 27
			transfer_state = 82
			transfer_state = 90
			hidden_effect = {
				remove_ideas = disrupted_communications
				country_event = civwar.110
				country_event = { id = civwar.7 hours = 1 }
				CHN = {
					if = {
						limit = { has_completed_focus = demand_equestria }
						country_event = { id = changelings.12 days = 1 }
					}
				}
			}
			activate_targeted_decision = { target = ROOT decision = BAL_VAN_declare_on_EQS }
			add_ai_strategy = {
				type = antagonize
				id = ROOT
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = ROOT
				value = 200
			}
			change_tag_from = ROOT
			add_ai_strategy = {
				type = alliance
				id = STG
				value = 999
			}
			add_ai_strategy = {
				type = support
				id = STG
				value = 100
			}
		}
		STG = {
			add_ai_strategy = {
				type = alliance
				id = BAL
				value = 999
			}
			add_ai_strategy = {
				type = support
				id = BAL
				value = 100
			}
		}
		add_ai_strategy = {
			type = antagonize
			id = BAL
			value = 200
		}
		add_ai_strategy = {
			type = conquer
			id = BAL
			value = 200
		}
	}
}
#VAN rises up
country_event = {
	id = stalliongrad_eqs_cw.5
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.5"}#Auto-logging
	title = stalliongrad_eqs_cw.5.t
	desc = stalliongrad_eqs_cw.5.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.5.a
		VAN = {
			transfer_state = 14
			transfer_state = 45
			hidden_effect = {
				country_event = civwar.110
				country_event = { id = civwar.3 hours = 1 }
				CHN = {
					if = {
						limit = {
							exists = yes
							has_completed_focus = demand_equestria
						}
						country_event = { id = changelings.10 days = 1 }
					}
				}
			}
			activate_targeted_decision = { target = ROOT decision = BAL_VAN_declare_on_EQS }
			add_ai_strategy = {
				type = antagonize
				id = ROOT
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = ROOT
				value = 200
			}
			add_ai_strategy = {
				type = alliance
				id = STG
				value = 999
			}
			add_ai_strategy = {
				type = support
				id = STG
				value = 100
			}
		}
		STG = {
			add_ai_strategy = {
				type = alliance
				id = VAN
				value = 999
			}
			add_ai_strategy = {
				type = support
				id = VAN
				value = 100
			}
		}
		add_ai_strategy = {
			type = antagonize
			id = VAN
			value = 200
		}
		add_ai_strategy = {
			type = conquer
			id = VAN
			value = 200
		}
	}
	option = {
		name = stalliongrad_eqs_cw.5.b
		trigger = { is_ai = no }
		VAN = {
			transfer_state = 14
			transfer_state = 45
			hidden_effect = {
				country_event = civwar.110
				country_event = { id = civwar.3 hours = 1 }
				CHN = {
					if = {
						limit = {
							exists = yes
							has_completed_focus = demand_equestria
						}
						country_event = { id = changelings.10 days = 1 }
					}
				}
			}
			activate_targeted_decision = { target = ROOT decision = BAL_VAN_declare_on_EQS }
			add_ai_strategy = {
				type = antagonize
				id = ROOT
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = ROOT
				value = 200
			}
			change_tag_from = ROOT
			add_ai_strategy = {
				type = alliance
				id = STG
				value = 999
			}
			add_ai_strategy = {
				type = support
				id = STG
				value = 100
			}
		}
		STG = {
			add_ai_strategy = {
				type = alliance
				id = VAN
				value = 999
			}
			add_ai_strategy = {
				type = support
				id = VAN
				value = 100
			}
		}
		add_ai_strategy = {
			type = antagonize
			id = VAN
			value = 200
		}
		add_ai_strategy = {
			type = conquer
			id = VAN
			value = 200
		}
	}
}
#STG forced to declare
country_event = {
	id = stalliongrad_eqs_cw.6
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.6"}#Auto-logging
	title = stalliongrad_eqs_cw.6.t
	desc = stalliongrad_eqs_cw.6.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.6.a
		add_stability = -0.05
		event_target:equestria = {
			random_list = {
				70 = {}
				30 = { clr_country_flag = STG_border_propaganda_flag }
			}
			random_list = {
				70 = {}
				30 = { clr_country_flag = STG_sabotage_flag }
			}
			random_list = {
				70 = {}
				30 = { clr_country_flag = STG_contact_BAL_flag }
			}
			random_list = {
				70 = {}
				30 = { clr_country_flag = STG_contact_VAL_flag }
			}
		}
		declare_war_on = {
			type = annex_everything
			target = event_target:equestria
		}
	}
	option = {
		name = stalliongrad_eqs_cw.6.b
		add_political_power = -150
		add_stability = -0.05
		add_war_support = -0.1
		set_global_flag = STG_CW_EQS_done
		hidden_effect = { 
			news_event = { id = stalliongrad_eqs_cw_news.2 days = 1 }
		}
	}
}
#No commie support anymore in EQS
country_event = {
	id = stalliongrad_eqs_cw.7
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.7"}#Auto-logging
	title = stalliongrad_eqs_cw.7.t
	desc = stalliongrad_eqs_cw.7.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.7.a
		add_political_power = -150
		add_stability = -0.05
		add_war_support = -0.1
		set_global_flag = STG_CW_EQS_done
	}
}
#No commie support anymore in EQS (for EQS)
country_event = {
	id = stalliongrad_eqs_cw.8
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.8"}#Auto-logging
	title = stalliongrad_eqs_cw.8.t
	desc = stalliongrad_eqs_cw.8.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.8.a
		add_political_power = 50
		add_stability = 0.05
	}
}
#Notification for EQS that STG is starting up shit
country_event = {
	id = stalliongrad_eqs_cw.7
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.7"}#Auto-logging
	title = stalliongrad_eqs_cw.7.t
	desc = stalliongrad_eqs_cw.7.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.7.a
	}
}

#Notification for EQS that STG is really starting up shit
country_event = {
	id = stalliongrad_eqs_cw.8
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw.8"}#Auto-logging
	title = stalliongrad_eqs_cw.8.t
	desc = stalliongrad_eqs_cw.8.d
	picture = GFX_event_stg_red_army
	is_triggered_only = yes
	option = {
		name = stalliongrad_eqs_cw.8.a
	}
}

#Pressure on EQS Government
news_event = {
	id = stalliongrad_eqs_cw_news.1
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw_news.1"}#Auto-logging
	title = stalliongrad_eqs_cw_news.1.t
	desc = stalliongrad_eqs_cw_news.1.d
	picture = GFX_news_event_stalliongrad
	is_triggered_only = yes
	option = {
		trigger = { has_government = communism }
		name = stalliongrad_eqs_cw_news.1.a
	}
	option = {
		trigger = { has_government = democratic }
		name = stalliongrad_eqs_cw_news.1.b
	}
	option = {
		trigger = { 
			NOT = {
				has_government = communism
				has_government = democratic
			}
		}
		name = stalliongrad_eqs_cw_news.1.c
	}
}

#STG does not declare on EQS
news_event = {
	id = stalliongrad_eqs_cw_news.2
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw_news.2"}#Auto-logging
	title = stalliongrad_eqs_cw_news.2.t
	desc = stalliongrad_eqs_cw_news.2.d
	picture = GFX_news_event_stalliongrad
	is_triggered_only = yes
	option = {
		trigger = { 
			has_government = communism 
			NOT = { tag = STG }
		}
		name = stalliongrad_eqs_cw_news.2.a
	}
	option = {
		trigger = { 
			has_government = democratic
			NOT = { tag = event_target:equestria }
		}
		name = stalliongrad_eqs_cw_news.2.b
	}
	option = {
		trigger = { 
			NOT = {
				has_government = communism
				has_government = democratic
				tag = STG
			}
		}
		name = stalliongrad_eqs_cw_news.2.c
	}
	option = {
		trigger = { tag = STG }
		name = stalliongrad_eqs_cw_news.2.e
	}
	option = {
		trigger = { tag = event_target:equestria }
		name = stalliongrad_eqs_cw_news.2.f
	}
}

#STG declares on EQS
news_event = {
	id = stalliongrad_eqs_cw_news.3
	immediate = {log = "[Root.GetName]: event stalliongrad_eqs_cw_news.3"}#Auto-logging
	title = stalliongrad_eqs_cw_news.3.t
	desc = stalliongrad_eqs_cw_news.3.d
	picture = GFX_news_event_stalliongrad
	is_triggered_only = yes
	option = {
		trigger = { 
			OR = {
				tag = STG
				is_subject_of = STG
				is_in_faction_with = STG
			}
		 }
		name = stalliongrad_eqs_cw_news.3.a
	}
	option = {
		trigger = { 
			OR = {
				tag = event_target:equestria
				is_subject_of = event_target:equestria
				is_in_faction_with = event_target:equestria
			}
		 }
		name = stalliongrad_eqs_cw_news.3.b
	}
	option = {
		trigger = { 
			NOT = {
				tag = event_target:equestria
				is_subject_of = event_target:equestria
				is_in_faction_with = event_target:equestria
				tag = STG
				is_subject_of = STG
				is_in_faction_with = STG
			}
		}
		name = stalliongrad_eqs_cw_news.3.c
	}
}